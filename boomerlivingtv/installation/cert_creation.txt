openssl genrsa -out private.key 2048
openssl req -new -x509 -key private.key -out public.crt -days 365

with snf file:
openssl req -x509 -nodes -days 365 \
  -newkey rsa:2048 \
  -keyout private.key \
  -out public.crt \
  -config san.cnf \
  -extensions v3_req



certificates
└── bolt
    ├── private.key
    ├── public.crt
    ├── revoked
    └── trusted
        └── public.crt (for client certificates in mTLS)
└── https
    ├── private.key
    └── public.crt
└── cluster
    ├── private.key
    └── public.crt
    ├── revoked
    └── trusted
        └── public.crt



        # Create SSL directory
mkdir ssl

# Generate private key
openssl genrsa -out ssl/bolt.key 2048
openssl genrsa -out ssl/https.key 2048

# Generate certificates (use 'neo4j' as Common Name)
openssl req -new -x509 -key ssl/bolt.key -out ssl/bolt.crt -days 365 -subj "/CN=localhost"
openssl req -new -x509 -key ssl/https.key -out ssl/https.crt -days 365 -subj "/CN=localhost"


 with : 
 NEO4J_dbms_ssl_policy_https_verify_hostname=true
- NEO4J_dbms_ssl_policy_bolt_verify_hostname=true


HTTP ERROR 400 Invalid SNI
URI:	https://localhost:7473/
STATUS:	400
MESSAGE:	Invalid SNI


  ******** testing commands *****
  curl -X POST http://localhost:7474/db/neo4j/tx/commit \
  -H "Content-Type: application/json" \
  -H "Authorization: Basic $(echo -n 'neo4j:passw0rd' | base64)" \
  -d '{
    "statements": [
      {
        "statement": "RETURN 1 as number, \"Hello World\" as greeting"
      }
    ]
  }'



  curl -X POST https://neo4j:7473/db/neo4j/tx/commit \
  -H "Content-Type: application/json" \
  -H "Authorization: Basic $(echo -n 'neo4j:passw0rd' | base64)" \
  -k \
  -d '{
    "statements": [
      {
        "statement": "RETURN 1 as number, \"Hello World\" as greeting"
      }
    ]
  }'

invalid INI.



    curl -X POST https://neo4j:7473/db/neo4j/tx/commit \
  -H "Content-Type: application/json" \
  -H "Authorization: Basic $(echo -n 'neo4j:passw0rd' | base64)" \
  -k \
  -d '{
    "statements": [
      {
        "statement": "RETURN 1 as number, \"Hello World\" as greeting"
      }
    ]
  }'


   with : 
 NEO4J_dbms_ssl_policy_https_verify_hostname=false
- NEO4J_dbms_ssl_policy_bolt_verify_hostname=false

sudo vi /etc/hosts


##
# Host Database
#
# localhost is used to configure the loopback interface
# when the system is booting.  Do not change this entry.
##
127.0.0.1       neo4j
255.255.255.255 broadcasthost
::1             localhost



  curl -X POST https://neo4j:7473/db/neo4j/tx/commit \
  -H "Content-Type: application/json" \
  -H "Authorization: Basic $(echo -n 'neo4j:passw0rd' | base64)" \
  -k \
  -d '{
    "statements": [
      {
        "statement": "CREATE (a:Person {name:\"Ravi\"})"
      }
    ]
  }'


   curl -X POST https://localhost:7473/db/neo4j/tx/commit \
  -H "Content-Type: application/json" \
  -H "Authorization: Basic $(echo -n 'neo4j:passw0rd' | base64)" \
  -k \
  -d '{
    "statements": [
      {
        "statement": "MATCH (a:Person {name:\"Ravi\"}) RETURN a;"
      }
    ]
  }'



The issue is that the certificate is missing "Digital Signature" in the Key Usage, which is required for SSL/TLS. Let me update the SAN configuration file to fix this:

openssl genrsa -out localhost.key 2048
openssl req -new -x509 -key localhost.key -out localhost.crt -days 365 -config san.cnf
